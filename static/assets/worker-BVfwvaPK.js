(function(){"use strict";function a(r){return new Promise((t,s)=>{const e=new XMLHttpRequest;e.open("GET",r),e.onload=()=>{e.status>=200&&e.status<300?t(e.responseText):s(new Error(`Request failed with status ${e.status}`))},e.onerror=()=>{s(new Error("Request failed"))},e.send()})}self.onmessage=async function(r){const{url:t,method:s,param:e,header:n}=r.data;console.log(t,s,e,n);try{const o=await a(`/api?url=${t}&method=${s}&param=${e}&header=${n}`);console.log(o),self.postMessage(o)}catch(o){console.error("Error fetching data:",o)}}})();
